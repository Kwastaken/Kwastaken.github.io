<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Calculator</title>
        <style>
            :root {
                --width: 1;
            }
             @media (max-width:2000000000px) {
                
            
                .body{
                    background-image: linear-gradient(to right,rgba(255, 0, 0, 0.50),rgba(0, 128, 0, 0.5));
                }
                .maincalculator{
                    border: 1px solid;
                    background:grey;
                    position:relative;
                    top:50%;
                    left:50%;
                    height: 70%;
                    min-height: 200px;
                    max-width:50vh;
                    min-width: 142px;
                    transform:translate(-50%,-50%);
                    padding-top: 1vh;
                    padding-bottom: 1vh;
                    padding-left: 1vh;
                    padding-right: 1vh;
                }
                .screenbg{
                    background: lightgray;
                    height:20%;
                    border: 2px inset;
                    border-color: rgb(35, 35, 35);
                }
                #screen1{
                    position: relative;
                    display:flex;
                    height:25%;
                    width:100%;
                    font-size: 2vh;
                    background: none;
                    border: 0 solid;
                    text-align: right;
                    padding-top: 2px;
                    padding-right: 1vh;
                }
                #screen2{
                    position: relative;
                    display:flex;
                    height: 75%;
                    width:100%;
                    font-size: 4vh;
                    background: none;
                    border: 0 solid;
                    text-align: right;
                }
                .row{
                    margin: auto;
                    display: flex;
                    position: relative;
                    background-color: rgb(0, 128, 119);
                    white-space: nowrap;
                    height: 15.6%;
                    width: 98%;
                    padding-left: 0.25vh;
                    padding-right: 0.25vh;
                }
                .number{
                    display:flex;
                    align-items: center;
                    justify-content: center;
                    position: relative;
                    height:100%;
                    width: 25%;
                    font-size: 4vh;
                }
                #C,#equal{
                    width: 50%;
                }
                #row1{
                    padding-top: 0.25vh;
                }
                #row5{
                    padding-bottom: 0.25vh;
                }
             }

        </style>


    </head>
    <body class="body">
            <div class="maincalculator" id="maincalculator">
                <div class="screenbg">
                <input type="string" class="screen" id="screen1">

                </input>
                <input type="string" class="screen" id="screen2">

                </input>
                </div>
                <div class="row" id="row1">
                    <button class="number" id="c" onclick="onClear()">
                        C
                    </button>
                    <button class="number" id="DEL" onclick="onDelete()">
                        DEL
                    </button>
                    <button class="number" id="/" onclick="onOperator()">
                        &#247;
                    </button>
                </div>
                <div class="row" id="row2">
                    <button class="number" id="1" onclick="onClick()">
                        1
                    </button>
                    <button class="number" id="2" onclick="onClick()">
                        2
                    </button>
                    <button class="number" id="3" onclick="onClick()">
                        3
                    </button>
                    <button class="number" id="*" onclick="onOperator()">
                        x
                    </button>
                </div>
                <div class="row" id="row3">
                    <button class="number" id="4" onclick="onClick()">
                        4
                    </button>
                    <button class="number" id="5" onclick="onClick()">
                        5
                    </button>
                    <button class="number" id="6" onclick="onClick()">
                        6
                    </button>
                    <button class="number" id="-" onclick="onOperator()">
                        -
                    </button>
                </div>
                <div class="row" id="row4">
                    <button class="number" id="7" onclick="onClick()">
                        7
                    </button>
                    <button class="number" id="8" onclick="onClick()">
                        8
                    </button>
                    <button class="number" id="9" onclick="onClick()">
                        9
                    </button>
                    <button class="number" id="+" onclick="onOperator()">
                        +
                    </button>
                </div>
                <div class="row" id="row5">
                    <button class="number" id="." onclick="onDecimal()">
                        .
                    </button>
                    <button class="number" id="0" onclick="onClick()">
                        0
                    </button>
                    <button class="number" id="equal" onclick="onEqual()">
                        =
                    </button>
                </div>
            </div>
        <script>            

            document.addEventListener("DOMContentLoaded", () => {
                document.getElementById('screen2').value='0';
            }); 
            
            let Num1 = document.getElementById("screen2").value;
            Num1 *= 1;
            let Num2;
            let Num3;
            let Num1storeAfter1stEqual;
            let operatortype;
            let operatortype2;
            let result;
            let isEqual;
            let isOperatorClicked;
            let isOperatorClickedThisEqual;
            let isDecimalClicked;
            let sinceDecimalClicked;
            let isAfter1stEqual;
            
            function round(num){
                
                return Math.round(num*1000)/1000;

            }

            function onDecimal(){
                if(isDecimalClicked==undefined){
                    isDecimalClicked=false;
                    sinceDecimalClicked=0;
                }
                if(isDecimalClicked==false){
                    onClick();
                    sinceDecimalClicked=1;
                }
                else{return;}
                isDecimalClicked=true;
            }

            function onDelete(){
                Num1=document.getElementById('screen2').value;
                Num1=Num1.substring(0,Num1.length-1);
                document.getElementById("screen2").value=Num1;
                if(isDecimalClicked==true){
                    sinceDecimalClicked-=1;
                }
                if(sinceDecimalClicked==0){
                    isDecimalClicked=false;
                }
            }

            function onClick(){
                if (Num2==undefined) {
                   Num2=0;
                   Num1storeAfter1stEqual=0;
                }

                if(isEqual==true){
                    onClear();

                }
                let buttonClicked = event.target.id;
                Num1 = document.getElementById("screen2").value;
                if (Num1=='0'&&buttonClicked!='.') {
                    Num1='';
                }
               document.getElementById("screen2").value = Num1 + buttonClicked ;
               isOperatorClicked=false;
               if(isDecimalClicked==true){
                    sinceDecimalClicked+=1;
                }
               
            }
            

            function onOperator(){
                


                Num1 = document.getElementById("screen2").value;
                Num1 *= 1;

                document.getElementById("screen1").value=Num3;
                operatortype=event.target.id;

                if (isEqual==undefined){
                    isEqual=false;
                    isOperatorClicked=false;
                }

                if (Num2==undefined) {
                   Num2=0;
                   Num3=0;
                   Num1storeAfter1stEqual=0;
                }


                if(Num2==0||isEqual==false&&isOperatorClickedThisEqual==false){
                    Num2=Num1;                 
                    Num3=Num2;
                    document.getElementById("screen1").value=round(Num3) +' '+ operatortype;
                    isEqual=false;
                }
                else if(Num2==0||isEqual==true){
                    Num2=result;                 
                    Num3=Num2;
                    document.getElementById("screen1").value=round(Num3) +' '+ operatortype;
                    isEqual=false;
                }
                else if(operatortype2=="+"&&isOperatorClicked==false){
                    
                    Num2=Num2+Num1;                   
                    Num3=Num2;
                    document.getElementById("screen1").value=round(Num3) +' '+ operatortype;
                }
                else if(operatortype2=="-"&&isOperatorClicked==false){
                    
                    Num2=Num2-Num1;
                    Num3=Num2;
                    document.getElementById("screen1").value=round(Num3) +' '+ operatortype;
                }
                else if(operatortype2=="*"&&isOperatorClicked==false){
                    Num2=Num2*Num1;
                    Num3=Num2;
                    document.getElementById("screen1").value=round(Num3) +' '+ operatortype;
                }
                else if(operatortype2=="/"&&isOperatorClicked==false){
                    
                    Num2=Num2/Num1;
                    Num3=Num2;
                    document.getElementById("screen1").value=round(Num3) +' '+ operatortype;
                }
                else{
                    document.getElementById("screen1").value=round(Num3) +' '+ operatortype;
                }
                document.getElementById("screen2").value="0";
                operatortype2=operatortype;
                isAfter1stEqual=false;
                isOperatorClicked=true;
                isOperatorClickedThisEqual=true;
                isDecimalClicked=false;
                sinceDecimalClicked=0;
            }
            function onEqual(){
                Num1 = document.getElementById("screen2").value;
                Num1 *= 1;

                document.getElementById("screen1").value="";

                if(Num2==0){
                    document.getElementById("screen2").value =Num1;
                    document.getElementById("screen1").value=Num1 ;
                }
                else if(operatortype=="+"){
                    if (isAfter1stEqual==false){
                        Num1storeAfter1stEqual=Num1;
                        
                        result=Num2+Num1;
                        Num3=result;
                        document.getElementById("screen2").value = round(Num3);
                        Num3=Num2;
                        document.getElementById("screen1").value= round(Num3) +' '+ operatortype +' '+ round(Num1)+' =';
                        isAfter1stEqual=true;
                    }
                    else{
                        
                        result=result+Num1storeAfter1stEqual;
                        
                       
                        document.getElementById("screen2").value = round(result);
                        document.getElementById("screen1").value=round(Num1) +' '+ operatortype +' '+ Num1storeAfter1stEqual+' =';
                    }
                }
                else if(operatortype=="-"){
                    if (isAfter1stEqual==false){
                        Num1storeAfter1stEqual=Num1;
                        
                        result=Num2-Num1;
                        Num3=result;
                        
                        document.getElementById("screen2").value = round(Num3);
                        Num3=Num2;
                        document.getElementById("screen1").value= round(Num3) +' '+ operatortype +' '+ round(Num1)+' =';
                        isAfter1stEqual=true;
                    }
                    else{
                        
                        result=result-Num1storeAfter1stEqual;
                        
                       
                        document.getElementById("screen2").value = round(result);
                        document.getElementById("screen1").value=round(Num1) +' '+ operatortype +' '+ Num1storeAfter1stEqual+' =';
                    }
                    
                }
                else if(operatortype=="*"){
                    if (isAfter1stEqual==false){
                        Num1storeAfter1stEqual=Num1;
                        
                        result=Num2*Num1;
                        Num3=result;
                        
                        document.getElementById("screen2").value =round(Num3);
                        Num3=Num2;
                        document.getElementById("screen1").value= round(Num3) +' '+ operatortype +' '+ round(Num1)+' =';
                        isAfter1stEqual=true;
                    }
                    else{
                        result=result*Num1storeAfter1stEqual;
                        
                        document.getElementById("screen2").value = round(result);
                        document.getElementById("screen1").value=round(Num1) +' '+ operatortype +' '+ Num1storeAfter1stEqual+' =';
                    }
                    
                }
                else if(operatortype=="/"){
                    if (isAfter1stEqual==false){
                        Num1storeAfter1stEqual=Num1;
                        
                        result=Num2/Num1;
                        Num3=result;
                        
                        document.getElementById("screen2").value = round(Num3);
                        Num3=Num2;
                        document.getElementById("screen1").value= round(Num3) +' '+ operatortype +' '+ round(Num1)+' =';
                        isAfter1stEqual=true;
                    }
                    else{
                        
                        result=result/Num1storeAfter1stEqual;
                        
                        document.getElementById("screen2").value = round(result);
                        document.getElementById("screen1").value=round(Num1) +' '+ operatortype +' '+ Num1storeAfter1stEqual+' =';
                    }
                    
                }
                else{
                    document.getElementById("screen2").value ="0";
                    isAfter1stEqual=true;
                }
                isEqual=true;
                isOperatorClickedThisEqual=false;
                isOperatorClicked=false;
                isDecimalClicked=false;
                sinceDecimalClicked=0;
            }
            function onClear(){
                document.getElementById("screen2").value ="0";
                document.getElementById("screen1").value="";
                isEqual=false;
                isAfter1stEqual=false;
                isDecimalClicked=false;
                isOperatorClickedThisEqual=false;
                sinceDecimalClicked=0;
                Num2=0;
            }
        </script>
    </body>
</html>