<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="title">PALINDROME DETECTOR</div>
    <div id="palindrome-container">
    <input id="length" type="number" placeholder="Length" value="6">
    <input id="enter" type="string" >
    <button id="generate">Generate</button>
    </div>
    <div id="correct"></div>
    <div id="wrong"></div>
    <script>
        let wordlength;
        let word;
        let letters='abcdefghijklmnopqrstuvwxyz';
        let root = document.querySelector(':root');
    const wordmaker = () =>{
            wordlength=document.getElementById("length").value;
            word='';
            for(let b=0; b<Math.ceil(wordlength/2); b++){
                word=word+letters.charAt(Math.floor(Math.random()*letters.length));
                
            }
            document.getElementById('enter').value=word;
            let righthalf='';
            for(let a=Math.ceil(wordlength/2)-(wordlength%2); a>0; a--){
                righthalf=righthalf+word.charAt(a-1);
            }
            word=word+righthalf;
            document.getElementById('enter').value=word;
    }    
    function palindromedetector(){
    if(word.length==0){
            return 0;
        }
    for(let i=word.length-1; i>-1; i--){
        if (word.charAt(word.length-i-1)==word.charAt(i)){
            return 'no';
        }
            }
        return 'yes';
        }
    document.getElementById("enter").addEventListener("input",() => {
        word=document.getElementById("enter").value;
        if(palindromedetector()=='yes'){
            root.style.setProperty('--num1','green');
            root.style.setProperty('--num2','transparent');
        }
        else if(palindromedetector()=='no'){
            root.style.setProperty('--num2','red');
            root.style.setProperty('--num1','transparent');
        }
        else{
            root.style.setProperty('--num1','transparent');
            root.style.setProperty('--num2','transparent');
        }

    });
    document.getElementById("generate").addEventListener("click",() => {
        wordmaker();
    })
    document.getElementById("length").addEventListener("click",() => {
        wordmaker();
    })
    document.querySelector("body").onload= wordmaker();
    
        </script>
</body>
</html